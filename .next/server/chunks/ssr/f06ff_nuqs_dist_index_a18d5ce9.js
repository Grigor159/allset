module.exports=[70122,a=>{"use strict";var b=a.i(72912),c=a.i(7510),d=a.i(9028),e=a.i(66334);function f(a,b,d){try{return a(b)}catch(a){return(0,c.l)("[nuqs] Error while parsing value `%s`: %O"+(d?" (for key `%s`)":""),b,a,d),null}}function g(a){function b(b){if(void 0===b)return null;let c="";if(Array.isArray(b)){if(void 0===b[0])return null;c=b[0]}return"string"==typeof b&&(c=b),f(a.parse,c)}return{type:"single",eq:(a,b)=>a===b,...a,parseServerSide:b,withDefault(a){return{...this,defaultValue:a,parseServerSide:c=>b(c)??a}},withOptions(a){return{...this,...a}}}}function h(a,b){return a.valueOf()===b.valueOf()}g({parse:a=>a,serialize:String}),g({parse:a=>{let b=parseInt(a);return b==b?b:null},serialize:a=>""+Math.round(a)}),g({parse:a=>{let b=parseInt(a);return b==b?b-1:null},serialize:a=>""+Math.round(a+1)}),g({parse:a=>{let b=parseInt(a,16);return b==b?b:null},serialize:a=>{let b=Math.round(a).toString(16);return(1&b.length?"0":"")+b}}),g({parse:a=>{let b=parseFloat(a);return b==b?b:null},serialize:String}),g({parse:a=>"true"===a.toLowerCase(),serialize:String}),g({parse:a=>{let b=parseInt(a);return b==b?new Date(b):null},serialize:a=>""+a.valueOf(),eq:h}),g({parse:a=>{let b=new Date(a);return b.valueOf()==b.valueOf()?b:null},serialize:a=>a.toISOString(),eq:h}),g({parse:a=>{let b=new Date(a.slice(0,10));return b.valueOf()==b.valueOf()?b:null},serialize:a=>a.toISOString().slice(0,10),eq:h});let i=(0,b.r)(),j={};function k(a,c,e,g,h,i){let j=!1,k=Object.entries(a).reduce((a,[k,l])=>{let m=c?.[k]??k,n=g[m],o="multi"===l.type?[]:null,p=void 0===n?("multi"===l.type?e?.getAll(m):e?.get(m))??o:n;return h&&i&&(0,d.t)(h[m]??o,p)?a[k]=i[k]??null:(j=!0,a[k]=((0,b.i)(p)?null:f(l.parse,p,m))??null,h&&(h[m]=p)),a},{});if(!j){let b=Object.keys(a),c=Object.keys(i??{});j=b.length!==c.length||b.some(a=>!c.includes(a))}return{state:k,hasChanged:j}}function l(a,b){return Object.fromEntries(Object.keys(a).map(c=>[c,a[c]??b[c]??null]))}function m(a,d={}){let{parse:f,type:g,serialize:h,eq:n,defaultValue:o,...p}=d,[{[a]:q},r]=function(a,d={}){let f=(0,e.useId)(),g=(0,c.i)(),h=(0,c.a)(),{history:m="replace",scroll:n=g?.scroll??!1,shallow:o=g?.shallow??!0,throttleMs:p=b.s.timeMs,limitUrlUpdates:q=g?.limitUrlUpdates,clearOnDefault:r=g?.clearOnDefault??!0,startTransition:s,urlKeys:t=j}=d,u=Object.keys(a).join(","),v=(0,e.useMemo)(()=>Object.fromEntries(Object.keys(a).map(a=>[a,t[a]??a])),[u,JSON.stringify(t)]),w=(0,c.r)(Object.values(v)),x=w.searchParams,y=(0,e.useRef)({}),z=(0,e.useMemo)(()=>Object.fromEntries(Object.keys(a).map(b=>[b,a[b].defaultValue??null])),[Object.values(a).map(({defaultValue:a})=>a).join(",")]),A=b.t.useQueuedQueries(Object.values(v)),[B,C]=(0,e.useState)(()=>k(a,t,x??new URLSearchParams,A).state),D=(0,e.useRef)(B);if((0,c.c)("[nuq+ %s `%s`] render - state: %O, iSP: %s",f,u,B,x),Object.keys(y.current).join("&")!==Object.values(v).join("&")){let{state:b,hasChanged:d}=k(a,t,x,A,y.current,D.current);d&&((0,c.c)("[nuq+ %s `%s`] State changed: %O",f,u,{state:b,initialSearchParams:x,queuedQueries:A,queryRef:y.current,stateRef:D.current}),D.current=b,C(b)),y.current=Object.fromEntries(Object.entries(v).map(([b,c])=>[c,a[b]?.type==="multi"?x?.getAll(c):x?.get(c)??null]))}(0,e.useEffect)(()=>{let{state:b,hasChanged:d}=k(a,t,x,A,y.current,D.current);d&&((0,c.c)("[nuq+ %s `%s`] State changed: %O",f,u,{state:b,initialSearchParams:x,queuedQueries:A,queryRef:y.current,stateRef:D.current}),D.current=b,C(b))},[Object.values(v).map(a=>`${a}=${x?.getAll(a)}`).join("&"),JSON.stringify(A)]),(0,e.useEffect)(()=>{let b=Object.keys(a).reduce((b,d)=>(b[d]=({state:b,query:e})=>{C(g=>{let{defaultValue:h}=a[d],i=v[d],j=b??h??null;return Object.is(g[d]??h??null,j)?((0,c.c)("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). no change, skipping, resolved: %O",f,u,i,b,h,D.current),g):(D.current={...D.current,[d]:j},y.current[i]=e,(0,c.c)("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). updateInternalState, resolved: %O",f,u,i,b,h,D.current),D.current)})},b),{});for(let d of Object.keys(a)){let a=v[d];(0,c.c)("[nuq+ %s `%s`] Subscribing to sync for `%s`",f,a,u),i.on(a,b[d])}return()=>{for(let d of Object.keys(a)){let a=v[d];(0,c.c)("[nuq+ %s `%s`] Unsubscribing to sync for `%s`",f,a,u),i.off(a,b[d])}}},[u,v]);let E=(0,e.useCallback)((d,e={})=>{let g,j=Object.fromEntries(Object.keys(a).map(a=>[a,null])),k="function"==typeof d?d(l(D.current,z))??j:d??j;(0,c.c)("[nuq+ %s `%s`] setState: %O",f,u,k);let t=0,x=!1,y=[];for(let[d,f]of Object.entries(k)){let h=a[d],j=v[d];if(!h)continue;(e.clearOnDefault??h.clearOnDefault??r)&&null!==f&&void 0!==h.defaultValue&&(h.eq??((a,b)=>a===b))(f,h.defaultValue)&&(f=null);let k=null===f?null:(h.serialize??String)(f);i.emit(j,{state:f,query:k});let l={key:j,query:k,options:{history:e.history??h.history??m,shallow:e.shallow??h.shallow??o,scroll:e.scroll??h.scroll??n,startTransition:e.startTransition??h.startTransition??s}};if(e?.limitUrlUpdates?.method==="debounce"||q?.method==="debounce"||h.limitUrlUpdates?.method==="debounce"){!0===l.options.shallow&&console.warn((0,c.s)(422));let a=e?.limitUrlUpdates?.timeMs??q?.timeMs??h.limitUrlUpdates?.timeMs??b.s.timeMs,d=b.t.push(l,a,w);t<a&&(g=d,t=a)}else{let a=e?.limitUrlUpdates?.timeMs??h?.limitUrlUpdates?.timeMs??q?.timeMs??e.throttleMs??h.throttleMs??p;y.push(b.t.abort(j)),b.n.push(l,a),x=!0}}let A=y.reduce((a,b)=>b(a),x?b.n.flush(w,h):b.n.getPendingPromise(w));return g??A},[u,m,o,n,p,q?.method,q?.timeMs,s,v,w.updateUrl,w.getSearchParamsSnapshot,w.rateLimitFactor,h,z]);return[(0,e.useMemo)(()=>l(B,z),[B,z]),E]}({[a]:{parse:f??(a=>a),type:g,serialize:h,eq:n,defaultValue:o}},p);return[q,(0,e.useCallback)((b,c={})=>r(c=>({[a]:"function"==typeof b?b(c[a]):b}),c),[a,r])]}a.s(["useQueryState",()=>m])}];

//# sourceMappingURL=f06ff_nuqs_dist_index_a18d5ce9.js.map